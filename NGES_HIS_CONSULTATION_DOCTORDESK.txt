
  CREATE TABLE "IHMS_TRA"."NGES_HIS_CONSULTATION_DOCTORDESK" 
   (	"NR" NUMBER(10,0), 
	"TYPE" VARCHAR2(20 CHAR) DEFAULT (null), 
	"VISIT_NR" NUMBER(10,0) DEFAULT '0' NOT NULL ENABLE, 
	"VISIT_NO" NUMBER(10,0) DEFAULT '0', 
	"PID" NUMBER(10,0) DEFAULT '0', 
	"BATCH_NO" VARCHAR2(50 CHAR) DEFAULT (null), 
	"ITEM_NAME" VARCHAR2(255 CHAR) DEFAULT (null), 
	"ITEM_NR" NUMBER(10,0) DEFAULT '0' NOT NULL ENABLE, 
	"GEXAM_RESULT" VARCHAR2(20 CHAR) DEFAULT (null), 
	"DOSAGE" VARCHAR2(10 CHAR) DEFAULT (null), 
	"FREQUENCY" NUMBER(10,0), 
	"NOD" NUMBER(10,0), 
	"LAB_ID" NUMBER(10,0) DEFAULT '0', 
	"IS_BILLED" NUMBER(3,0) DEFAULT '0', 
	"AMOUNT" FLOAT(126) DEFAULT '0.00', 
	"TEMPLATE" CLOB DEFAULT TO_CLOB('NULL'), 
	"CREATE_TIME" TIMESTAMP (6) DEFAULT (null), 
	"CREATE_ID" VARCHAR2(50 CHAR) DEFAULT (null), 
	"DOCTOR_ID" NUMBER(10,0) DEFAULT '0', 
	"LOCATION_NR" VARCHAR2(8 CHAR) DEFAULT (null) NOT NULL ENABLE, 
	"COUNTER_NR" VARCHAR2(8 CHAR) DEFAULT (null) NOT NULL ENABLE, 
	"STATUS" VARCHAR2(20 CHAR), 
	"STATION_NR" VARCHAR2(25 CHAR) DEFAULT (null), 
	"REQUEST_NR" NUMBER(10,0) DEFAULT '0', 
	"STOCK_NR" NUMBER(10,0), 
	"SALES_PREFIX" VARCHAR2(25 CHAR) DEFAULT (null), 
	"SALES_NUMBER" NUMBER(24,0), 
	"MODIFY_ID" VARCHAR2(50 CHAR) DEFAULT (null), 
	"MODIFY_TIME" TIMESTAMP (6) DEFAULT (null), 
	"HISTORY" CLOB DEFAULT TO_CLOB('NULL'), 
	"BILL_NO" VARCHAR2(20 CHAR) DEFAULT (null), 
	"PANEL_NR" NUMBER(10,0) DEFAULT '0', 
	"REF_NO" VARCHAR2(50 CHAR) DEFAULT (null), 
	"REF_APPROVE" VARCHAR2(20 CHAR), 
	"PATIENT_TYPE" VARCHAR2(20 CHAR) DEFAULT (null), 
	"ENCOUNTER_NR" VARCHAR2(20 CHAR), 
	"BILLING_CATEGORY" NUMBER(10,0), 
	"AMBULANCE" VARCHAR2(20 CHAR) DEFAULT (null), 
	"IS_NO_STOCK" NUMBER(10,0) DEFAULT '0', 
	"ZERO_STOCK" NUMBER(3,0) DEFAULT '0', 
	"REQ_FROM" VARCHAR2(30 CHAR), 
	"PHY_UNIQ_NR" NUMBER(10,0), 
	"IS_REFER" NUMBER(10,0), 
	"DISCOUNT_SCHEME" NUMBER(10,0), 
	"IS_ABLE_INTERNAL" NUMBER(3,0) DEFAULT '0', 
	"IS_REFERABLE" NUMBER(3,0) DEFAULT '0', 
	"IS_SAMPLE_REQUIRED" NUMBER(3,0) DEFAULT '0', 
	"IS_OUTSOURCE" NUMBER(3,0) DEFAULT '0', 
	"VACCINE_TYPE" VARCHAR2(20 CHAR) DEFAULT (null), 
	"DOSE_NR" NUMBER(10,0), 
	"AMBULANCE_TYPE" NUMBER(10,0) DEFAULT '0', 
	"ATTENDANT_ALLOW" VARCHAR2(10 CHAR) DEFAULT (null), 
	"REFER_ADM_REMARK" CLOB DEFAULT TO_CLOB('NULL'), 
	"IS_DEFAULT" NUMBER(1,0), 
	"QTY" NUMBER(10,0), 
	"FIELD_VALUE" VARCHAR2(200 CHAR), 
	"DISPLAY_TYPE" VARCHAR2(100 CHAR), 
	"OPTION_NAME" VARCHAR2(100 CHAR), 
	"OPTION_VALUE" VARCHAR2(100 CHAR), 
	"DIAG_PRIM_SECD" VARCHAR2(5 CHAR), 
	"DIAD_ACUTE_CHRO" VARCHAR2(5 CHAR), 
	"COMBO" VARCHAR2(10 CHAR), 
	"INSTRUCTIONS" VARCHAR2(250 CHAR), 
	"PRSC_STRT_DT" TIMESTAMP (6) DEFAULT null, 
	"PRSC_END_DT" TIMESTAMP (6) DEFAULT null, 
	"PRSC_STOP_DT" TIMESTAMP (6) DEFAULT null, 
	"ROUTE" TIMESTAMP (6) DEFAULT null, 
	"CLOSE_BY" VARCHAR2(30 BYTE) DEFAULT null, 
	"CLOSE_TIME" TIMESTAMP (6) DEFAULT null, 
	"MEDICINE_VERIFICATION_OTP" NUMBER(10,0), 
	"PRESCRIPTION_EXPIRY_DATE" DATE DEFAULT null
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "TBS_IHMS" 
 LOB ("TEMPLATE") STORE AS SECUREFILE (
  TABLESPACE "TBS_IHMS" ENABLE STORAGE IN ROW CHUNK 8192
  NOCACHE LOGGING  NOCOMPRESS  KEEP_DUPLICATES 
  STORAGE(INITIAL 106496 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)) 
 LOB ("HISTORY") STORE AS SECUREFILE (
  TABLESPACE "TBS_IHMS" ENABLE STORAGE IN ROW CHUNK 8192
  NOCACHE LOGGING  NOCOMPRESS  KEEP_DUPLICATES 
  STORAGE(INITIAL 106496 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)) 
 LOB ("REFER_ADM_REMARK") STORE AS SECUREFILE (
  TABLESPACE "TBS_IHMS" ENABLE STORAGE IN ROW CHUNK 8192
  NOCACHE LOGGING  NOCOMPRESS  KEEP_DUPLICATES 
  STORAGE(INITIAL 106496 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)) ;
  CREATE UNIQUE INDEX "IHMS_TRA"."PRIMARY_577" ON "IHMS_TRA"."NGES_HIS_CONSULTATION_DOCTORDESK" ("NR", "LOCATION_NR", "COUNTER_NR") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "TBS_IHMS" ;
  CREATE UNIQUE INDEX "IHMS_TRA"."UNIQUE_ITEM_852" ON "IHMS_TRA"."NGES_HIS_CONSULTATION_DOCTORDESK" ("VISIT_NR", "TYPE", "PID", "ITEM_NR", "DOCTOR_ID", "ITEM_NAME", "REQ_FROM", "PHY_UNIQ_NR") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "TBS_IHMS" ;
ALTER TABLE "IHMS_TRA"."NGES_HIS_CONSULTATION_DOCTORDESK" ADD CONSTRAINT "PRIMARY_577" PRIMARY KEY ("NR", "LOCATION_NR", "COUNTER_NR")
  USING INDEX "IHMS_TRA"."PRIMARY_577"  ENABLE;
ALTER TABLE "IHMS_TRA"."NGES_HIS_CONSULTATION_DOCTORDESK" ADD CONSTRAINT "UNIQUE_ITEM_852" UNIQUE ("VISIT_NR", "TYPE", "PID", "ITEM_NR", "DOCTOR_ID", "ITEM_NAME", "REQ_FROM", "PHY_UNIQ_NR")
  USING INDEX "IHMS_TRA"."UNIQUE_ITEM_852"  ENABLE;

  CREATE OR REPLACE EDITIONABLE TRIGGER "IHMS_TRA"."NGES_HIS_CONSULTATION_DOCTORDESK_TRG" 
BEFORE INSERT ON NGES_HIS_CONSULTATION_DOCTORDESK 
FOR EACH ROW 
BEGIN
  <<COLUMN_SEQUENCES>>
  BEGIN
    IF INSERTING AND :NEW.NR IS NULL THEN
      SELECT NGES_HIS_CONSULTATION_DOCTORDESK_SEQ.NEXTVAL INTO :NEW.NR FROM SYS.DUAL;
    END IF;
  END COLUMN_SEQUENCES;
END;




/
ALTER TRIGGER "IHMS_TRA"."NGES_HIS_CONSULTATION_DOCTORDESK_TRG" ENABLE;
