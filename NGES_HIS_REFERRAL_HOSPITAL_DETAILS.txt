

  CREATE TABLE "IHMS_TRA"."NGES_HIS_REFERRAL_HOSPITAL_DETAILS" 
   (	"NR" NUMBER(10,0), 
	"PID" NUMBER(11,0) DEFAULT 0, 
	"ARRIVED_STATUS" NUMBER(1,0) DEFAULT 0, 
	"ARRIVED_DATE" TIMESTAMP (6) DEFAULT null, 
	"ADMITED_STATUS" NUMBER(1,0) DEFAULT 0, 
	"ADMITED_DATE" TIMESTAMP (6) DEFAULT null, 
	"DISCHARGE_STATUS" NUMBER(1,0) DEFAULT 0, 
	"DISCHARGE_DATE" TIMESTAMP (6) DEFAULT null, 
	"REFERRAL_NUMBER" VARCHAR2(100 BYTE) DEFAULT null, 
	"REQUEST_NO" NUMBER(11,0) DEFAULT 0, 
	"REQUEST_AMOUNT" NUMBER(10,2) DEFAULT 0.00, 
	"REQUEST_BY" VARCHAR2(30 BYTE) DEFAULT null, 
	"REQUEST_DATE" TIMESTAMP (6) DEFAULT null, 
	"APPROVE_BY" VARCHAR2(30 BYTE) DEFAULT null, 
	"APPROVE_DATE" TIMESTAMP (6) DEFAULT null, 
	"REQUEST_STATUS" VARCHAR2(30 BYTE) DEFAULT 'pending', 
	"CREATE_ID" VARCHAR2(30 BYTE) DEFAULT null, 
	"CREATE_DATE" TIMESTAMP (6) DEFAULT null, 
	"MODIFY_BY" VARCHAR2(30 BYTE) DEFAULT null, 
	"MODIFY_DATE" TIMESTAMP (6) DEFAULT null, 
	"LOCATION_NR" VARCHAR2(30 BYTE) DEFAULT null, 
	"COUNTER_NR" VARCHAR2(30 BYTE) DEFAULT null, 
	"HISTORY" CLOB DEFAULT TO_CLOB('null'), 
	"REFERRAL_NR" NUMBER(11,0) DEFAULT null, 
	"REJECT_REASON" CLOB DEFAULT TO_CLOB('null'), 
	"REJECT_BY" VARCHAR2(30 BYTE) DEFAULT null, 
	"REQUEST_REMARK" VARCHAR2(255 CHAR), 
	"EXPENSE_REQ_NUMBER" NUMBER(20,0) DEFAULT 0, 
	"SUPPLIER_NR" NUMBER(10,0), 
	"REF_FILE" VARCHAR2(50 BYTE), 
	"APPROVAL_LETTER" VARCHAR2(100 BYTE) DEFAULT '', 
	"REMARK_NR" BLOB DEFAULT null, 
	"APPROVEL_REMARK" CLOB DEFAULT null, 
	"TREATED_AS" NUMBER(2,0) DEFAULT 0 NOT NULL ENABLE, 
	"ACCOUNTS_APPROVAL_BY" VARCHAR2(50 BYTE), 
	"ACCOUNTS_APPROVAL_DATE" TIMESTAMP (6), 
	"UNITHEAD_APPROVAL_BY" VARCHAR2(50 BYTE), 
	"UNITHEAD_APPROVAL_DATE" TIMESTAMP (6), 
	"DIRECTOR_APPROVAL_BY" VARCHAR2(50 BYTE), 
	"DIRECTOR_APPROVAL_DATE" TIMESTAMP (6), 
	"REQUESTED_FROM" VARCHAR2(22 BYTE) DEFAULT 'pending', 
	 PRIMARY KEY ("NR")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "TBS_IHMS"  ENABLE
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "TBS_IHMS" 
 LOB ("HISTORY") STORE AS SECUREFILE (
  TABLESPACE "TBS_IHMS" ENABLE STORAGE IN ROW CHUNK 8192
  NOCACHE LOGGING  NOCOMPRESS  KEEP_DUPLICATES 
  STORAGE(INITIAL 106496 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)) 
 LOB ("REJECT_REASON") STORE AS SECUREFILE (
  TABLESPACE "TBS_IHMS" ENABLE STORAGE IN ROW CHUNK 8192
  NOCACHE LOGGING  NOCOMPRESS  KEEP_DUPLICATES 
  STORAGE(INITIAL 106496 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)) 
 LOB ("REMARK_NR") STORE AS SECUREFILE (
  TABLESPACE "TBS_IHMS" ENABLE STORAGE IN ROW CHUNK 8192
  NOCACHE LOGGING  NOCOMPRESS  KEEP_DUPLICATES 
  STORAGE(INITIAL 106496 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)) 
 LOB ("APPROVEL_REMARK") STORE AS SECUREFILE (
  TABLESPACE "TBS_IHMS" ENABLE STORAGE IN ROW CHUNK 8192
  NOCACHE LOGGING  NOCOMPRESS  KEEP_DUPLICATES 
  STORAGE(INITIAL 106496 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)) ;

  CREATE OR REPLACE EDITIONABLE TRIGGER "IHMS_TRA"."NGES_HIS_REFERRAL_HOSPITAL_DETAILS_TRG" 
BEFORE INSERT ON NGES_HIS_REFERRAL_HOSPITAL_DETAILS 
FOR EACH ROW 
BEGIN
  <<COLUMN_SEQUENCES>>
  BEGIN
    IF INSERTING AND :NEW.NR IS NULL THEN
      SELECT NGES_HIS_REFERRAL_HOSPITAL_DETAILS_SEQ.NEXTVAL INTO :NEW.NR FROM SYS.DUAL;
    END IF;
  END COLUMN_SEQUENCES;
END;




/
ALTER TRIGGER "IHMS_TRA"."NGES_HIS_REFERRAL_HOSPITAL_DETAILS_TRG" ENABLE;
